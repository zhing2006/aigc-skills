# Genix Skills 用户手册

[English](MANUAL.md) | [中文](MANUAL_CN.md)

本手册提供 Genix AIGC Skills 安装包的详细安装和使用说明。

## 目录

- [安装](#安装)
  - [系统要求](#系统要求)
  - [下载安装包](#下载安装包)
  - [运行安装脚本](#运行安装脚本)
  - [配置 API 密钥](#配置-api-密钥)
- [技能概览](#技能概览)
- [图像生成](#图像生成)
  - [Google Gemini (Nano Banana Pro)](#google-gemini-nano-banana-pro)
  - [OpenAI GPT Image](#openai-gpt-image)
- [视频生成](#视频生成)
  - [Google Veo](#google-veo)
  - [OpenAI Sora](#openai-sora)
- [音频生成](#音频生成)
  - [ElevenLabs 音效](#elevenlabs-音效)
  - [ElevenLabs 文字转语音](#elevenlabs-文字转语音)
- [音乐生成](#音乐生成)
  - [ElevenLabs Music](#elevenlabs-music)
- [高级工作流](#高级工作流)
  - [文生图到图生视频流水线](#文生图到图生视频流水线)
  - [图像编辑到视频流水线](#图像编辑到视频流水线)
  - [多资产制作](#多资产制作)

---

## 安装

### 系统要求

- **操作系统**：Windows 10+、macOS 10.15+ 或 Linux
- **网络连接**：下载依赖和调用 API 时需要
- **API 密钥**：至少需要一个支持的服务商（Google、OpenAI、ElevenLabs）的 API 密钥

### 下载安装包

1. 从发布页面下载 `genix-skills.zip`
2. 将 zip 文件解压到你的**项目根目录**（你想使用这些技能的地方）

解压后的目录结构：

```txt
your-project/
├── genix/                  # 技能文件夹（安装时会被移动）
├── .env.template           # API 密钥模板
├── install.ps1             # Windows PowerShell 安装脚本
├── install.bat             # Windows CMD 安装脚本
└── install.sh              # Linux/macOS 安装脚本
```

### 运行安装脚本

根据你的系统选择合适的脚本：

#### Windows (PowerShell) - 推荐

```powershell
.\install.ps1
```

为特定 AI 工具安装：

```powershell
.\install.ps1 -Tool cursor    # Cursor 编辑器
.\install.ps1 -Tool claude    # Claude Code（默认）
.\install.ps1 -Tool codex     # Codex CLI
.\install.ps1 -Tool opencode  # OpenCode
.\install.ps1 -Tool vscode    # VS Code + Claude 扩展
```

#### Windows (命令提示符)

```cmd
install.bat
install.bat cursor    # 指定工具
```

#### Linux / macOS

```bash
chmod +x install.sh   # 仅首次需要
./install.sh
./install.sh cursor   # 指定工具
```

#### 安装脚本做了什么

1. **检查/安装 uv**：Astral 的 `uv` 包管理器，用于快速 Python 依赖管理
2. **创建虚拟环境**：在 `.venv-genix/` 中创建隔离的 Python 环境（与项目现有的 `.venv` 分开）
3. **创建 .env 文件**：从 `.env.template` 复制到 `.env` 用于 API 密钥配置
4. **安装依赖**：将所有必需的 Python 包安装到 `.venv-genix/`
5. **移动 Genix 技能**：将 `genix/` 文件夹移动到 AI 工具的技能目录

安装后：

- 技能位置：`.claude/skills/genix/`、`.cursor/skills/genix/` 或 `.codex/skills/genix/`
- Python 环境：`.venv-genix/`（不会与现有的 `.venv` 冲突）

### 配置 API 密钥

编辑项目根目录下的 `.env` 文件：

```env
# Google API（用于 Gemini 图像和 Veo 视频）
USE_VERTEX_AI = "false"
GOOGLE_CLOUD_API_KEY = "your_google_api_key_here"

# ElevenLabs API（用于音频、语音、音乐）
ELEVENLABS_API_KEY = "your_elevenlabs_api_key_here"

# OpenAI API（用于 GPT 图像和 Sora 视频）
USE_AZURE_OPENAI = "false"
OPENAI_API_KEY = "your_openai_api_key_here"
OPENAI_API_BASE = "https://api.openai.com/v1"
```

**注意**：你只需要配置你计划使用的服务商的 API 密钥。

---

## 技能概览

| 技能 | 服务商 | 输入 | 输出 | 使用场景 |
| ---- | ------ | ---- | ---- | -------- |
| Nano Banana Pro | Google | 文字、图片 | 图像 | 高质量图像生成、风格迁移 |
| GPT Image | OpenAI | 文字、图片 | 图像 | 图像生成、编辑、透明背景 |
| Veo | Google | 文字、图片 | 视频 | 带音频的视频生成 |
| Sora | OpenAI | 文字、图片 | 视频 | 电影级视频生成 |
| Sound Effects | ElevenLabs | 文字 | 音频 | 音效、环境音 |
| Text-to-Speech | ElevenLabs | 文字 | 音频 | 语音旁白、对话 |
| Music | ElevenLabs | 文字 | 音频 | 背景音乐、歌曲 |

---

## 工作原理

当你发起生成请求时，AI 助手会：

1. **选择合适的技能**：根据你的请求选择图像、视频、音频或音乐生成技能
2. **优化你的提示词**：按照该 API 的最佳实践优化提示词（添加镜头术语、光线描述、风格修饰词等）
3. **生成内容**：使用优化后的参数调用对应技能生成内容
4. **报告结果**：告诉你输出文件的位置

你只需要用自然语言描述需求，AI 会自动优化提示词以获得最佳效果。

---

## 图像生成

### Google Gemini (Nano Banana Pro)

最适合：高分辨率图像、风格迁移、角色一致性

#### 基础文生图

向 AI 助手说：
> "生成一张猫咪戴着巫师帽在魔法图书馆里的写实风格图片"

#### 指定参数

> "创建一张赛博朋克城市夜景的 16:9 横版图片，4K 分辨率"

#### 图生图（风格迁移）

> "把这张照片转换成吉卜力动画风格，保持构图不变"
> （附上你的图片）

#### 角色一致性

> "使用这些参考图片，创建同一个角色现在坐在咖啡店里的场景"
> （附上 3-5 张参考图片）

**支持的选项**：

- 宽高比：`1:1`、`2:3`、`3:2`、`3:4`、`4:3`、`4:5`、`5:4`、`9:16`、`16:9`、`21:9`
- 分辨率：`1K` (1024px)、`2K` (2048px)、`4K` (4096px)

---

### OpenAI GPT Image

最适合：精确编辑、透明背景、图片中的文字

#### 基础文生图

> "生成一个音乐流媒体服务的现代应用图标，使用渐变色"

#### 透明背景

> "创建一个卡通机器人吉祥物，透明背景，用作贴纸"

#### 图像编辑

> "编辑这张照片，把天空换成戏剧性的日落"
> （附上你的图片）

#### 多个变体

> "生成 4 种不同的热带鸡尾酒设计，俯视图"

**支持的选项**：

- 模型：`gpt-image-1.5`（最佳）、`gpt-image-1`、`gpt-image-1-mini`
- 尺寸：`1024x1024`、`1536x1024`（横版）、`1024x1536`（竖版）
- 质量：`auto`、`high`、`medium`、`low`
- 背景：`auto`、`transparent`、`opaque`

---

## 视频生成

### Google Veo

最适合：带原生音频的视频、对话、音效

#### 基础文生视频

> "创建一段日落时海浪拍打岩石的视频，8 秒"

#### 带对话和音效

> "生成一段侦探在黑色电影风格办公室里说'在这个城市的所有办公室里，你偏偏走进了我的'的视频，加上窗户上的雨声"

#### 图生视频

> "把这张猫的图片做成动画，让它慢慢转头看向镜头"
> （附上你的图片）

#### 竖版视频 (9:16)

> "创建一段女性微笑的竖版视频，柔和光线，用于社交媒体"

**支持的选项**：

- 模型：`veo-3.1-generate-001`（完整质量）、`veo-3.1-fast-generate-001`（更快）
- 宽高比：`16:9`（横版）、`9:16`（竖版）
- 时长：`4`、`6`、`8` 秒
- 分辨率：`720p`、`1080p`（1080p 仅支持 8 秒 + 16:9）

---

### OpenAI Sora

最适合：电影级画质、流畅动态、艺术风格

#### 基础文生视频

> "创建一段 4 秒的蝴蝶慢动作落在花上的视频"

#### 横版电影风格

> "生成一段 8 秒的航拍镜头，飞越日出时分的雾气山脉"

#### 图生视频

> "使用这张图片，给场景添加轻柔的镜头移动动画"
> （附上你的图片）

#### 高质量 Pro 模型

> "创建一段专业级品质的颜料滴入水中的视频，使用 pro 模型"

**支持的选项**：

- 模型：`sora-2`（快速，默认）、`sora-2-pro`（更高质量）
- 尺寸：`720x1280`（竖版）、`1280x720`（横版）、`1024x1792`、`1792x1024`
- 时长：`4`、`8`、`12` 秒

---

## 音频生成

### ElevenLabs 音效

最适合：环境音、动作音效、氛围音频、游戏音效

#### 单个音效

> "生成雷雨声音效"

#### 循环环境音

> "创建 10 秒的森林氛围音，有鸟叫声，做成无缝循环"

#### 高精度动作音效

> "生成科幻激光枪发射的音效，高提示词影响力以获得准确结果"

#### 电影级音效

> "创建电影级冲击音效，深沉的低音和混响尾音"

**支持的选项**：

- 模型：`eleven_text_to_sound_v2`（默认，支持循环）、`eleven_text_to_sound_v1`
- 时长：0.5 到 30 秒（未指定时自动判断）
- 提示词影响力：0-1（默认 0.3，越高越精确）
- 循环：无缝循环（仅 v2）
- 格式：
  - MP3：`mp3_22050_32`、`mp3_44100_64`、`mp3_44100_128`、`mp3_44100_192`
  - PCM：`pcm_16000`、`pcm_22050`、`pcm_44100`、`pcm_48000`
  - Opus：`opus_48000_64`、`opus_48000_128`

---

### ElevenLabs 文字转语音

最适合：旁白、对话、配音、角色声音

#### 基础语音

> "把这段文字转成语音：'欢迎来到 AI 生成内容的未来'"

#### 声音搜索

> "用英式男性旁白声音生成说'你好'的语音"

#### 情感表达（V3 模型）

> "生成带情感标签的语音：'[excited] 天哪，我简直不敢相信我们赢了！'"

#### 自定义设置的长篇旁白

> "创建语音旁白，使用温暖的女声，较慢的速度，有声书风格"

**支持的选项**：

- 模型：
  - `eleven_v3`：最具表现力，70+ 语言，支持音频标签
  - `eleven_multilingual_v2`：自然语音，29 语言（默认）
  - `eleven_flash_v2_5`：超低延迟 ~75ms
  - `eleven_turbo_v2_5`：高质量，低延迟 ~250ms
- 声音选择：通过 ID 或搜索查询（如 "British female calm"）
- 声音设置：稳定性（0-1）、相似度（0-1）、语速（0.7-1.2）
- 音频标签（仅 V3）：`[excited]`、`[whispers]`、`[sad]`、`[British accent]` 等
- 格式：
  - MP3：`mp3_22050_32`、`mp3_44100_64`、`mp3_44100_128`、`mp3_44100_192`
  - PCM：`pcm_16000`、`pcm_22050`、`pcm_44100`、`pcm_48000`
  - Opus：`opus_48000_64`、`opus_48000_128`

---

## 音乐生成

### ElevenLabs Music

最适合：背景音乐、主题曲、氛围音乐、短音乐

#### 纯乐器音乐

> "创作一段 30 秒的平静钢琴旋律，环境音风格，放松舒缓，纯乐器"

#### 带人声

> "生成一段 60 秒关于夏日恋情的欢快流行歌曲，女声演唱"

#### 指定风格和结构

> "创作电影预告片用的史诗管弦乐，45 秒，开头柔和然后逐渐推向高潮"

#### Lo-fi 背景音乐

> "生成 lo-fi 嘻哈节拍，放松舒缓，黑胶质感，柔和钢琴，适合学习，2 分钟"

**支持的选项**：

- 模型：`music_v1`（默认）
- 时长：10 到 300 秒（最长 5 分钟）
- 纯乐器：强制仅输出乐器演奏（无 AI 人声）
- 格式：
  - MP3：`mp3_22050_32`、`mp3_44100_64`、`mp3_44100_128`、`mp3_44100_192`
  - PCM：`pcm_16000`、`pcm_22050`、`pcm_44100`、`pcm_48000`
  - Opus：`opus_48000_64`、`opus_48000_128`、`opus_48000_192`

---

## 高级工作流

### 文生图到图生视频流水线

这个工作流演示如何从零开始创建完整场景：

#### 第一步：生成基础图像

> "生成一张雄狮坐在非洲大草原岩石上的写实风格图片，黄金时段光线。16:9 宽高比，高细节。"

AI 会创建图像（如 `lion_savanna.png`）。

#### 第二步：优化图像（可选）

> "编辑图片，添加更戏剧性的光线，远处天空加几只飞鸟"
> （引用生成的图片）

创建优化版本（如 `lion_savanna_v2.png`）。

#### 第三步：制作视频动画

> "使用这张狮子图片，创建 8 秒的视频，狮子慢慢转头，鬃毛随风飘动。添加大草原的环境音。"
> （引用优化后的图片）

最终输出：包含自定义生成内容的完整视频。

---

### 图像编辑到视频流水线

从现有照片开始进行转换：

#### 第一步：风格迁移

> "把这张猫的照片转换成雄伟的油画风格，保持姿势完全一致"
> （附上你的照片）

创建照片的艺术版本。

#### 第二步：动画化艺术品

> "给这幅猫的油画添加动画。细微的动作如呼吸、轻微耳朵抖动，电影级光线。6 秒。"
> （引用风格化的图片）

结果：你的照片变成了一幅活的艺术品。

---

### 多资产制作

为项目创建完整的媒体素材包：

#### 第一步：主视觉图

> "为奇幻 RPG 游戏创建主视觉：一个战士站在火山地形中面对巨龙。史诗级构图，16:9"

#### 第二步：角色肖像

> "使用相同的战士设计，创建只显示上半身的肖像。3:4 宽高比，用于角色选择界面"

#### 第三步：背景音乐

> "创作 60 秒的奇幻游戏 Boss 战斗用史诗管弦乐"

#### 第四步：音效

> "生成龙吼声音效，低沉而恐怖"

#### 第五步：电影预告片

> "使用主视觉图，创建 8 秒的电影级视频。镜头缓缓推向战士，背景中巨龙喷火。不要生成音频"

结果：在一次创作会话中获得完整的游戏素材集，后续可以在后期软件中再精修。

---

### 链式工作流技巧

1. **保持一致性**：创建相关素材时引用之前的输出
   - "使用上一张图片中相同的角色..."
   - "匹配主视觉图的配色..."

2. **渐进式构建**：从基础素材开始，逐步优化
   - 先生成粗略概念
   - 编辑和优化细节
   - 制作动画前最终润色

3. **使用合适的工具**：
   - Google Gemini：最适合初始概念和风格迁移
   - OpenAI GPT：最适合精确编辑和透明素材
   - Google Veo：需要视频带音频时使用
   - OpenAI Sora：追求电影级画质时使用

4. **保存中间结果**：每一步都保留版本以保持灵活性
   - `concept_v1.png` → `concept_v2.png` → `final.png` → `animated.mp4`

5. **匹配宽高比**：确保图片宽高比与目标视频匹配
   - 16:9 图片 → 16:9 或 1280x720 视频
   - 9:16 图片 → 9:16 或 720x1280 视频

---

## 故障排除

### API 密钥问题

**错误**："API key not found" 或 "Authentication failed"

- 检查项目根目录是否存在 `.env` 文件
- 确认 API 密钥正确复制（没有多余空格）
- 确保设置了正确的环境变量

### 生成失败

**错误**："Content policy violation"

- 避免生成真人面孔
- 检查提示词中是否有版权内容
- 查看平台内容政策

**错误**："Rate limit exceeded"

- 等待几分钟后重试
- 考虑升级 API 套餐以获得更高限额

### 安装问题

**错误**：安装后找不到 "uv"

- 重启终端/IDE
- 检查 `~/.local/bin` 是否在 PATH 中

**错误**："Python 3.14 not found"

- 手动运行 `uv python install 3.14`
- 或修改安装脚本使用可用的 Python 版本

---

## 获取帮助

- **GitHub Issues**：报告 bug 或请求功能
